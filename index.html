<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>上班动力</title>

<style>
:root{
  --bg:#ffffff;
  --border:rgba(15,23,42,.10);
  --text:rgba(15,23,42,.92);
  --muted:rgba(15,23,42,.62);
  --warm1:#ff8d48;
  --warm2:#ff6384;
  --warm3:#ffc452;
  --shadow:0 18px 50px rgba(2,6,23,.08);
  --radius:20px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,
  "PingFang SC","Microsoft YaHei",sans-serif;
  background:var(--bg);
  color:var(--text);
  padding:14px;
  display:grid;
  place-items:center;
}

.wrap{width:min(760px,100%)}

.card{
  border-radius:var(--radius);
  background:#fff;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  padding:20px;
}

.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:10px;
}

.title{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:800;
  font-size:16px;
}

.dot{
  width:10px;height:10px;border-radius:999px;
  background:linear-gradient(90deg,var(--warm1),var(--warm2));
}

.chip{
  border:1px solid rgba(15,23,42,.12);
  background:rgba(15,23,42,.03);
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  cursor:pointer;
  margin-left:6px;
}

.chip.active{
  background:linear-gradient(90deg,rgba(255,141,72,.14),rgba(255,99,132,.12));
  border-color:rgba(255,141,72,.35);
}

.big{
  font-size:clamp(34px,6vw,54px);
  font-weight:900;
  margin-top:10px;
}

.sub{
  margin-top:10px;
  font-size:13px;
  color:var(--muted);
}

.bar{
  margin-top:14px;
  height:12px;
  border-radius:999px;
  background:rgba(15,23,42,.06);
  overflow:hidden;
}

.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--warm1),var(--warm3),var(--warm2));
  transition:width .25s ease;
}

.footer{
  margin-top:14px;
  padding-top:12px;
  border-top:1px solid rgba(15,23,42,.08);
  font-size:12px;
  color:var(--muted);
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
}
</style>
</head>

<body>
<div class="wrap">
<div class="card">

<div class="top">
  <div class="title">
    <div class="dot"></div>
    上班动力
  </div>
  <div>
    <button class="chip active" data-mode="today">Today</button>
    <button class="chip" data-mode="month">This Month</button>
    <button class="chip" data-mode="year">This Year</button>
  </div>
</div>

<div class="big" id="earned">$0.00</div>

<div class="sub" id="status">Pacific Time</div>

<div class="bar"><div class="fill" id="fill"></div></div>

<div class="footer">
  <div id="quote"></div>
  <div id="clock"></div>
</div>

</div>
</div>

<script>
const CONFIG={
  annualSalary:112000,
  tz:"America/Los_Angeles",
  start:"09:00",
  end:"22:00"
};

const QUOTES=[
"Small steps compound into big wins.",
"Focus beats motivation.",
"Consistency creates leverage.",
"Future you is watching.",
"Momentum > perfection.",
"Just start. The rest follows.",
"Discipline buys freedom.",
"Build quietly. Win loudly.",
"Progress, not pressure.",
"Another day leveling up."
];

let mode="today";
let lastQuoteHour=null;
let currentQuote=QUOTES[0];

const $=id=>document.getElementById(id);

function nowInTZ(){
  const parts=new Intl.DateTimeFormat("en-US",{
    timeZone:CONFIG.tz,
    year:"numeric",month:"2-digit",day:"2-digit",
    hour:"2-digit",minute:"2-digit",second:"2-digit",
    hour12:false
  }).formatToParts(new Date());
  const get=t=>Number(parts.find(p=>p.type===t).value);
  return{
    y:get("year"),m:get("month"),d:get("day"),
    h:get("hour"),min:get("minute"),s:get("second")
  };
}

function parseHM(s){
  const [h,m]=s.split(":").map(Number);
  return h*60+m;
}

function isWeekday(y,m,d){
  const dow=new Date(Date.UTC(y,m-1,d)).getUTCDay();
  return dow>=1&&dow<=5;
}

function countWorkdays(y){
  let c=0;
  for(let m=1;m<=12;m++){
    for(let d=1;d<=31;d++){
      const dt=new Date(Date.UTC(y,m-1,d));
      if(dt.getUTCMonth()!==m-1)break;
      if(isWeekday(y,m,d))c++;
    }
  }
  return c;
}

function formatMoney(x){
  return x.toLocaleString(undefined,{style:"currency",currency:"USD"});
}

function pickQuote(now){
  const key=`${now.y}-${now.m}-${now.d}-${now.h}`;
  if(key===lastQuoteHour)return currentQuote;
  lastQuoteHour=key;
  currentQuote=QUOTES[(now.h+now.d)%QUOTES.length];
  return currentQuote;
}

function tick(){
  const now=nowInTZ();
  const start=parseHM(CONFIG.start);
  const end=parseHM(CONFIG.end);
  const nowMin=now.h*60+now.min+now.s/60;
  const shift=end-start;
  const worked=Math.max(0,Math.min(shift,nowMin-start));

  const workdays=countWorkdays(now.y);
  const daily=CONFIG.annualSalary/workdays;

  let earned=0;
  let pct=0;

  if(mode==="today"){
    earned=isWeekday(now.y,now.m,now.d)?daily*(worked/shift):0;
    pct=worked/shift;
  }else if(mode==="month"){
    earned=daily*now.d;
    pct=now.d/30;
  }else{
    earned=(CONFIG.annualSalary/365)*( (new Date()-new Date(now.y,0,1))/(1000*60*60*24) );
    pct=(new Date()-new Date(now.y,0,1))/(1000*60*60*24)/365;
  }

  $("earned").textContent=formatMoney(earned);
  $("fill").style.width=(pct*100)+"%";
  $("status").textContent="Work window: 9:00 AM – 10:00 PM (PT)";
  $("quote").textContent="✦ "+pickQuote(now);
  $("clock").textContent=
    String((now.h%12)||12).padStart(2,"0")+":"+
    String(now.min).padStart(2,"0")+":"+
    String(now.s).padStart(2,"0")+
    (now.h>=12?" PM":" AM")+" PT";
}

document.querySelectorAll(".chip").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".chip").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    mode=btn.dataset.mode;
    tick();
  };
});

tick();
setInterval(tick,250);
</script>
</body>
</html>
